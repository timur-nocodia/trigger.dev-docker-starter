# ===================
# SECRETS
# Generate each with: openssl rand -hex 16
# ===================

# Session cookie encryption key
SESSION_SECRET=

# Magic link email authentication secret
MAGIC_LINK_SECRET=

# Data encryption key for sensitive stored data
ENCRYPTION_KEY=

# Secret for managed worker authentication
MANAGED_WORKER_SECRET=

# ===================
# DATABASE (PostgreSQL)
# ===================

# PostgreSQL admin username
POSTGRES_USER=postgres

# PostgreSQL admin password
POSTGRES_PASSWORD=unsafe-postgres-pw

# Default database name
POSTGRES_DB=postgres

# Connection string for webapp (via Docker network)
DATABASE_URL=postgresql://postgres:unsafe-postgres-pw@postgres:5432/main?schema=public&sslmode=disable

# Direct connection string (same as DATABASE_URL for single-node setup)
DIRECT_URL=postgresql://postgres:unsafe-postgres-pw@postgres:5432/main?schema=public&sslmode=disable

# ===================
# TRIGGER.DEV
# ===================

# Docker image tag (e.g., v4-beta, v4.0.0-v4-beta.21)
TRIGGER_IMAGE_TAG=v4-beta

# ===================
# APP URLS
# In production, set these to your public URL (e.g., https://trigger.example.com)
# ===================

# Main application URL
APP_ORIGIN=http://localhost:8030

# Login/auth URL (usually same as APP_ORIGIN)
LOGIN_ORIGIN=http://localhost:8030

# API endpoint URL (usually same as APP_ORIGIN)
API_ORIGIN=http://localhost:8030

# OpenTelemetry exporter endpoint for dev tools
DEV_OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:8030/otel

# ===================
# CLICKHOUSE (Analytics)
# ===================

# ClickHouse admin username
CLICKHOUSE_USER=default

# ClickHouse admin password
CLICKHOUSE_PASSWORD=password

# ClickHouse connection URL
CLICKHOUSE_URL=http://default:password@clickhouse:8123?secure=false

# ClickHouse URL for run replication
RUN_REPLICATION_CLICKHOUSE_URL=http://default:password@clickhouse:8123

# ===================
# DOCKER REGISTRY
# Stores deployed task images
# ===================

# Registry URL (use your public IP/domain in production)
DOCKER_REGISTRY_URL=localhost:5000

# Registry auth username (must match registry/auth.htpasswd)
DOCKER_REGISTRY_USERNAME=registry-user

# Registry auth password (must match registry/auth.htpasswd)
DOCKER_REGISTRY_PASSWORD=very-secure-indeed

# Namespace/organization for images
DOCKER_REGISTRY_NAMESPACE=trigger

# ===================
# OBJECT STORAGE (MinIO)
# S3-compatible storage for task payloads
# ===================

# MinIO access key (username)
OBJECT_STORE_ACCESS_KEY_ID=admin

# MinIO secret key (password)
OBJECT_STORE_SECRET_ACCESS_KEY=very-safe-password
